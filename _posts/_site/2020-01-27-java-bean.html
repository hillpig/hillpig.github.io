<p><img src="https://dzone.com/storage/temp/12766233-coffee-beans-photo.jpg?crop=1.00xw:0.676xh;0,0.199xh&amp;resize=2048:*" alt="img" /></p>

<!-- more -->

<ol>
  <li>
    <p>修改AndroidManifest.xml文件，添加渠道名称变量</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>         <span class="c">&lt;!--value的值填写渠道名称，例如yingyongbao。这里设置动态渠道名称变量--&gt;</span>
         <span class="nt">&lt;meta-data</span> <span class="na">android:value=</span><span class="s">"${UMENG_CHANNEL_VALUE}"</span> <span class="na">android:name=</span><span class="s">"UMENG_CHANNEL"</span><span class="nt">/&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>修改app的build.gradle文件，添加所需要的渠道</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     <span class="cm">/*配置渠道*/</span>
     <span class="n">productFlavors</span> <span class="o">{</span>
         <span class="n">yingyongbao</span> <span class="o">{</span>
             <span class="n">manifestPlaceholders</span> <span class="o">=</span> <span class="o">[</span><span class="nl">UMENG_CHANNEL_VALUE:</span> <span class="s">"yingyongbao"</span><span class="o">]</span>
         <span class="o">}</span>
         <span class="n">wandoujia</span> <span class="o">{</span>
             <span class="n">manifestPlaceholders</span> <span class="o">=</span> <span class="o">[</span><span class="nl">UMENG_CHANNEL_VALUE:</span> <span class="s">"wandoujia"</span><span class="o">]</span>
         <span class="o">}</span>
         <span class="n">xiaomi</span> <span class="o">{</span>
             <span class="n">manifestPlaceholders</span> <span class="o">=</span> <span class="o">[</span><span class="nl">UMENG_CHANNEL_VALUE:</span> <span class="s">"xiaomi"</span><span class="o">]</span>
         <span class="o">}</span>
     <span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>如果遇到一下错误，可以参考google文档修改解决</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     Error:All flavors must now belong to a named flavor dimension.
     The flavor <span class="s1">'flavor_name'</span> is not assigned to a flavor dimension.
</code></pre></div>    </div>
    <p>在build.gradle文件的defaultConfig段落中添加</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     <span class="n">flavorDimensions</span> <span class="s">"versionCode"</span>
</code></pre></div>    </div>

    <p><a href="https://developer.android.com/studio/build/build-variants?utm_source=android-studio#product-flavors" title="Google's document">参考链接1</a></p>

    <p><a href="https://www.cnblogs.com/WUXIAOCHANG/p/10683942.html" title="cnblogs's document">参考链接2</a></p>

    <p><a href="https://www.jianshu.com/p/e4da2f477cd8" title="jianshu's document">参考链接3</a></p>
  </li>
</ol>
